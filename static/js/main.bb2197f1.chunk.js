(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(93)},52:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),s=a(21),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=a(12),d=a(39),m={search:""},h={robots:[],isPending:!1,error:""},p={favs:[]},b=[];b.push(d.a);var f=Object(u.c)({searchARobot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_SEARCH_FIELD":return Object.assign({},e,{search:t.payload});default:return e}},requestRobotsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_ROBOTS_PENDING":return Object.assign({},e,{isPending:!0});case"REQUEST_ROBOTS_SUCCESS":return Object.assign({},e,{robots:t.payload,isPending:!1});case"REQUEST_ROBOTS_FAILED":return Object.assign({},e,{error:t.payload,isPending:!1});default:return e}},requestFavReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_FAVS":return Object.assign({},e,{favs:t.payload});default:return e}}}),g=(a(52),a(53),a(14)),E=a(40),v=a(15);g.b.add(E.a,v.b,v.a,v.c,v.d);var y,w,R=a(17),N=a(18),O=a(22),S=a(19),k=a(23),C=a(25),T=a(8),A=(a(57),function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={hasErr:!1},a}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("error here ".concat(e)),console.log("info here ".concat(t)),this.setState({hasErr:!0})}},{key:"render",value:function(){return this.state.hasErr?r.a.createElement("div",null,r.a.createElement("h1",{className:"tc f1 lh-copy"},"Ooops. That didn't work.")):this.props.children}}]),t}(n.Component)),F=(a(58),function(e){var t=e.searchChange;return r.a.createElement("div",{className:"tc pa2"},r.a.createElement("label",{htmlFor:"searchrobot",className:"visuallyhidden"},"SearchRobot"),r.a.createElement("input",{className:"pa3 mb4 br-pill ba b--light-green bg-washed-green","aria-label":"searchrobot",type:"search",id:"searchrobot",name:"searchrobot",placeholder:"search a cool robot",onChange:t}))}),I=(a(59),function(e){var t=function(t){e.history.push("Robot/".concat(t))},a=e.robots.map(function(a){return r.a.createElement("div",{key:a.id,className:"bg-washed-green dib br3 pa2 mv3 mh2 grow bw1 shadow-5 bg-animate hover-bg-light-green",onClick:t.bind(void 0,a.id)},r.a.createElement("img",{className:"w-100",alt:a.name,src:"https://robohash.org/".concat(a.id,"?size=300x300&set=set").concat(e.number)}),r.a.createElement("div",null,r.a.createElement("h2",null,a.name.slice(0,20)),r.a.createElement("p",null,a.email),r.a.createElement("p",null,r.a.createElement("b",null,a.username))))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-90 tc",style:{margin:"0 auto"}},a))}),j=(a(60),function(e){return r.a.createElement("div",{className:"scroll"},e.children)}),_=function(e){return e.isPending?r.a.createElement("h1",{className:"tc f1 lh-copy"},e.title):r.a.createElement("h1",{className:"tc f2 lh-copy"},e.title)},P=a(10),U=a(20),D=a.n(U),L=function(e){var t=e.match,a=e.number,n=e.robots,o=e.onFav,c=e.favs,s=e.history;if(!n.length)return r.a.createElement(T.a,{to:"/"});var i=parseInt(t.params.robotID,10);if(i>0&&i<11){var l=n.find(function(e){return e.id===i}),u=!!c.includes(l.id);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"overthepage bg-washed-green dib br3 pa2 mv3 mh2 bw1 shadow-5 bg-animate w-70",style:{margin:"0 auto"}},r.a.createElement("div",{className:"tc"},r.a.createElement("img",{alt:l.name,src:"https://robohash.org/".concat(l.id,"?size=300x300&set=set").concat(a)}),r.a.createElement("h1",{className:"f4"},"".concat(l.name.slice(0,20)," (@").concat(l.username,")")),r.a.createElement("hr",{className:"mw3 bb bw1 b--black-10"})),r.a.createElement("p",{className:"lh-copy measure center f5 black-90"},r.a.createElement("span",{className:"underline"},"".concat(l.name.slice(0,20))),", famously known by username ",r.a.createElement("span",{className:"underline"},"@","".concat(l.username))," is a resident of ".concat(l.address.suite,", ").concat(l.address.street," in ").concat(l.address.city," with zip-code "),r.a.createElement("span",{className:"underline"},"".concat(l.address.zipcode)),". He can be contacted at phone number: ",r.a.createElement("span",{className:"underline"},"".concat(l.phone))," or at email: ",r.a.createElement("span",{className:"underline"},"".concat(l.email)),". He currently works at ".concat(l.company.name,". He owns a nice website "),r.a.createElement("span",{className:"underline"},"".concat(l.website),"`")),r.a.createElement("div",{className:"icon-space"},r.a.createElement(P.a,{icon:["fas","arrow-left"],onClick:function(){s.goBack()},"data-tip":"Go back"}),u?r.a.createElement(P.a,{icon:["fas","heart"],size:"lg",style:{color:"red"},transform:"grow-2.5","data-tip":"Already Favourite"}):r.a.createElement(P.a,{icon:["far","heart"],style:{color:"red"},onClick:function(){o(l.id),u=!0},"data-tip":"Add to Favourite"}),r.a.createElement(P.a,{icon:["fas","map-marked-alt"],onClick:function(){s.push("locateOnMap/".concat(l.username,"/").concat(l.address.geo.lat,"/").concat(l.address.geo.lng))},"data-tip":"Find him on map"}))),r.a.createElement(D.a,null))}return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"overthepage bg-washed-green dib br3 pa2 mv3 mh2 grow bw1 shadow-5 bg-animate hover-bg-light-green w-60",style:{margin:"0 auto"}},r.a.createElement("p",null,"That's not in our database")))},q=a(42),x=a.n(q),B=function(e){var t={position:"absolute",width:40,height:40,left:-20,top:-20,color:"#3f51b5",padding:10};return r.a.createElement("div",{lat:e.lat,lng:e.lng,style:t},r.a.createElement(P.a,{icon:["fas","map-pin"],size:"2x","data-tip":e.text}),r.a.createElement(D.a,null))},W=function(e){y=e.coords.latitude,w=e.coords.longitude},z=function(e){switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case e.TIMEOUT:alert("The request to get user location timed out.");break;default:alert("An unknown error occurred.")}};navigator.geolocation?navigator.geolocation.getCurrentPosition(W,z):alert("Geolocation is not supported by this browser.");var G=function(e){var t=e.match,a=parseInt(t.params.lat,10),n=parseInt(t.params.lng,10),o=t.params.username;return r.a.createElement("div",{style:{height:"50vh",width:"80%",margin:"0 auto"}},r.a.createElement(x.a,{bootstrapURLKeys:{key:"AIzaSyCLpofQRbTiLmgAg3jiBIrtNlrIkAGi8jE"},defaultCenter:[a,n],defaultZoom:3,options:function(e){return{zoom:10,zoomControlOptions:{style:e.MapTypeControlStyle.DROPDOWN_MENU,mapTypeIds:["roadmap","terrain"]},mapTypeControlOptions:{position:e.ControlPosition.TOP_RIGHT},mapTypeControl:!0}}},r.a.createElement(B,{lat:y,lng:w,text:"You're here"}),r.a.createElement(B,{lat:a,lng:n,text:o})))},M=function(e){function t(){var e;return Object(R.a)(this,t),(e=Object(O.a)(this,Object(S.a)(t).call(this))).onFav=function(t){var a=JSON.parse(localStorage.getItem("favs"));null!==a&&void 0!==a&&Array.isArray(a)?a.includes(t)||a.push(t):a=[t],localStorage.setItem("favs",JSON.stringify(a)),e.props.onRequestFav()},e.state={title:"Welcome to RoboFriends",loading:"Waiting for all the cool robots to come here....",number:Math.floor(3*Math.random())+1},e}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestRobots(),this.props.onRequestFav()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.title,o=this.props,c=o.robots,s=o.search,i=o.onSearchChange,l=o.isPending,u=o.error,d=o.favs,m=c.filter(function(e){return e.name.toLowerCase().includes(s.toLowerCase())});return l?r.a.createElement("div",{className:"pa2"},r.a.createElement(_,{isPending:l,title:n}),r.a.createElement("h1",{className:"tc f3 mt6 pa4"},a)):u?r.a.createElement("div",{className:"pa2"},r.a.createElement(_,{isPending:l,title:n}),r.a.createElement(F,{style:{pointerEvent:"none",opacity:"0.5"}}),r.a.createElement("h1",{className:"tc f3 mt6 pa6"},"There's no fun in being offline, come online and make some RoboFriends!")):r.a.createElement("div",{className:"pa2"},r.a.createElement(A,null,r.a.createElement(C.a,null,r.a.createElement(_,{isPending:l,title:n}),r.a.createElement(F,{searchChange:i}),r.a.createElement(j,null,r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/RoboFriends/",render:function(t){return r.a.createElement(I,Object.assign({},t,{robots:m,number:e.state.number}))}}),r.a.createElement(T.b,{exact:!0,path:"/RoboFriends/Robot/:robotID",render:function(t){return r.a.createElement(L,Object.assign({},t,{robots:m,number:e.state.number,onFav:e.onFav,favs:d}))}}),r.a.createElement(T.b,{exact:!0,path:"/RoboFriends/Robot/locateOnMap/:username/:lat/:lng",component:G}),r.a.createElement(T.b,{render:function(){return r.a.createElement(T.a,{to:"/"})}}))))))}}]),t}(n.Component),Q=Object(s.b)(function(e){return{search:e.searchARobot.search,robots:e.requestRobotsReducer.robots,favs:e.requestFavReducer.favs,isPending:e.requestRobotsReducer.isPending,error:e.requestRobotsReducer.error}},function(e){return{onSearchChange:function(t){return e({type:"CHANGE_SEARCH_FIELD",payload:t.target.value})},onRequestRobots:function(){return e(function(e){e({type:"REQUEST_ROBOTS_PENDING"}),fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}).then(function(t){return e({type:"REQUEST_ROBOTS_SUCCESS",payload:t})}).catch(function(t){return e({type:"REQUEST_ROBOTS_FAILED",payload:t})})})},onRequestFav:function(){return e(function(e){var t=localStorage.getItem("favs");e({type:"REQUEST_FAVS",payload:void 0!==t&&null!==t&&Array.isArray(JSON.parse(t))?JSON.parse(t):[]})})}}})(M),H=Object(u.d)(f,u.a.apply(void 0,b));c.a.render(r.a.createElement(s.a,{store:H},r.a.createElement(Q,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/RoboFriends",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/RoboFriends","/service-worker.js");i?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):l(t,e)})}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.bb2197f1.chunk.js.map